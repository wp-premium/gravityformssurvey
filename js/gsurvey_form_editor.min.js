function SetDefaultValues_survey(a){a.label=gsurveyVars.strings.untitledSurveyField,SetDefaultValues_likert(a)}function gform_new_choice_survey(a,b){return b=window["gform_new_choice_"+a.inputType]?window["gform_new_choice_"+a.inputType](a,b):new Choice("",GenerateSurveyDefaultChoiceValue(a))}function GenerateSurveyDefaultChoiceValue(a){return"gsurvey"+a.id+"xxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)})}function StartChangeSurveyType(a){var b=GetSelectedField();return b.choices=null,window["SetDefaultValues_"+a]&&window["SetDefaultValues_"+a](b),jQuery("#gsurvey-field-type").val(a),"checkbox"!=a&&"radio"!=a&&"select"!=a||(b.choices=new Array(new Choice(gsurveyRankStrings.firstChoice,GenerateSurveyDefaultChoiceValue(b),!1),new Choice(gsurveyRankStrings.secondChoice,GenerateSurveyDefaultChoiceValue(b),!1),new Choice(gsurveyRankStrings.thirdChoice,GenerateSurveyDefaultChoiceValue(b),!1))),StartChangeInputType(a,b)}function SetDefaultValues_likert(a){a.enableChoiceValue=!0,a.enablePrice=!1,a.gsurveyLikertEnableMultipleRows=!1,a.gsurveyLikertEnableScoring=!1,a.choices=new Array(new gsurveyLikertChoice(gsurveyLikertStrings.columnLabel1,GenerateLikertChoiceValue(a),1),new gsurveyLikertChoice(gsurveyLikertStrings.columnLabel2,GenerateLikertChoiceValue(a),2),new gsurveyLikertChoice(gsurveyLikertStrings.columnLabel3,GenerateLikertChoiceValue(a),3),new gsurveyLikertChoice(gsurveyLikertStrings.columnLabel4,GenerateLikertChoiceValue(a),4),new gsurveyLikertChoice(gsurveyLikertStrings.columnLabel5,GenerateLikertChoiceValue(a),5)),a.gsurveyLikertRows=new Array(new gsurveyLikertRow(gsurveyLikertStrings.firstChoice),new gsurveyLikertRow(gsurveyLikertStrings.secondChoice),new gsurveyLikertRow(gsurveyLikertStrings.thirdChoice),new gsurveyLikertRow(gsurveyLikertStrings.fourthChoice),new gsurveyLikertRow(gsurveyLikertStrings.fifthChoice));a.id,a.gsurveyLikertRows[0].value;return a.inputType="likert",a.inputs=null,a}function gsurveyLikertUpdatePreview(a){void 0==a&&(a=GetSelectedField());var b=gsurveyLikertGetFieldPreviewMarkup(a);jQuery(".field_selected .gsurvey-likert").parent().html(b)}function gsurveyLikertUpdateInputs(a){if(a.gsurveyLikertEnableMultipleRows){var b,c,d;a.inputs=new Array,d=0;for(var e=0;e<a.gsurveyLikertRows.length;e++)c=a.gsurveyLikertRows[e].value,(e+1+d)%10==0&&d++,b=a.id+"."+(e+1+d),a.inputs.push(new gsurveyLikertInput(b,a.gsurveyLikertRows[e].text,c))}else a.inputs=null}function gsurveyLikertInput(a,b,c){this.id=a,this.label=b,this.name=c}function gsurveyLikertGetFieldPreviewMarkup(a){var b,c=a.gsurveyLikertEnableMultipleRows?a.gsurveyLikertRows.length:1,d=c>5?5:c;b="<table class='gsurvey-likert'>",b+="<tr>",a.gsurveyLikertEnableMultipleRows&&(b+="<td class='gsurvey-likert-row-label'></td>");for(var e=0;e<a.choices.length;e++){b+="<td class='gsurvey-likert-choice-label'><label for='"+("choice_"+a.id+"_"+e)+"'>"+a.choices[e].text+"</label></td>"}b+="</tr>";for(var f=1;f<=d;f++){b+="<tr>",a.gsurveyLikertEnableMultipleRows&&(b+="<td>"+a.gsurveyLikertRows[f-1].text+"</td>");for(var e=0;e<a.choices.length;e++)b+="<td class='gsurvey-likert-choice'><input type='radio' disabled='disabled'></td>";b+="</tr>"}if(c>5){b+="<tr><td colspan='"+(a.choices.length+1)+"'>"+gf_vars.editToViewAll.replace("%d",c)+"</td></tr>"}return b+="</table>"}function gsurveyLikertChoice(a,b,c){this.text=a,this.value=b||a,this.isSelected=!1,this.score=c}function gsurveyLikertUpdateColumnsObject(){var a=GetSelectedField();jQuery("ul#gsurvey-likert-columns li").each(function(b){$this=jQuery(this);var c=$this.children("input.gsurvey-likert-column-text").val(),d=$this.children("input.gsurvey-likert-column-value").val(),e=$this.children("input.gsurvey-likert-column-score").val(),f=$this.data("index");void 0===e&&(e=f+1);var g=new gsurveyLikertChoice(c,d,e);a.choices[f]=g}),gsurveyLikertUpdateInputs(a)}function GenerateLikertChoiceValue(a){return"glikertcol"+a.id+"xxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)})}function gsurveyLikertInsertColumn(a){var b=GetSelectedField();gsurveyLikertUpdateColumnsObject();var c=new Choice("",GenerateLikertChoiceValue(b));b.choices.splice(a,0,c),jQuery("#gsurvey-likert-columns-container ul#gsurvey-likert-columns").html(gsurveyLikertGetColumns(b)),gsurveyLikertUpdatePreview(b)}function gsurveyLikertDeleteColumn(a){var b=GetSelectedField();gsurveyLikertUpdateColumnsObject(),b.choices.splice(a,1),jQuery("#gsurvey-likert-columns-container ul#gsurvey-likert-columns").html(gsurveyLikertGetColumns(b)),gsurveyLikertUpdatePreview(b)}function gsurveyLikertMoveColumn(a,b){var c=GetSelectedField();gsurveyLikertUpdateColumnsObject();var d=c.choices[a];c.choices.splice(a,1),c.choices.splice(b,0,d),jQuery("#gsurvey-likert-columns-container ul#gsurvey-likert-columns").html(gsurveyLikertGetColumns(c)),gsurveyLikertUpdateColumnsObject(),gsurveyLikertUpdatePreview(c)}function gsurveyLikertGetColumns(a){for(var b,c=gsurveyVars.imagesUrl,d="",e=0;e<a.choices.length;e++)d+="<li data-index='"+e+"'>",d+="<img src='"+c+"/arrow-handle.svg' width='14' height='14' class='gsurvey-liket-column-handle' alt='"+gsurveyLikertStrings.dragToReOrder+"' /> ",d+="<input type='text' id='gsurvey-likert-column-text-"+e+"' value=\""+a.choices[e].text.replace(/"/g,"&quot;")+"\"  class='gsurvey-column-input gsurvey-likert-column-text' onkeyup='gsurveyLikertUpdateColumnsObject();gsurveyLikertUpdatePreview()'/>",void 0===a.choices[e].score&&(a.choices[e].score=e+1),b=a.choices[e].score,d+="<input type='text' id='gsurvey-likert-column-score-"+e+"' value=\""+b+"\"  class='gsurvey-column-input gsurvey-likert-column-score' onkeyup='gsurveyLikertUpdateColumnsObject();gsurveyLikertUpdatePreview()'/>",d+="<input type='hidden' id='gsurvey-likert-column-value-"+e+"' value=\""+a.choices[e].value+"\" class='gsurvey-likert-column-value' >",d+="<img src='"+c+"/add.svg' width='16' height='16' class='add_field_choice' title='"+gsurveyLikertStrings.addAnotherColumn+"' alt='"+gsurveyLikertStrings.addAnotherColumn+"' style='cursor:pointer; margin:0 3px;' onclick=\"gsurveyLikertInsertColumn("+(e+1)+');" />',a.choices.length>1&&(d+="<img src='"+c+"/remove.svg' width='16' height='16' title='"+gsurveyLikertStrings.removeThisColumn+"' alt='"+gsurveyLikertStrings.removeThisColumn+"' class='delete_field_choice' style='cursor:pointer;' onclick=\"gsurveyLikertDeleteColumn("+e+');" />'),d+="</li>";return d}function gsurveyLikertUpdateRowsObject(){var a=GetSelectedField();jQuery("#gsurvey-likert-rows li").each(function(b){var c=jQuery(this).children("input.gsurvey-likert-row-text").val(),d=jQuery(this).children("input.gsurvey-likert-row-id").val(),e=jQuery(this).data("index"),f=new gsurveyLikertRow(c,d);a.gsurveyLikertRows[e]=f}),gsurveyLikertUpdateInputs(a)}function gsurveyLikertGenerateRowVal(){return"glikertrowxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)})}function gsurveyLikertRow(a,b){this.text=a,this.value=void 0==b?gsurveyLikertGenerateRowVal():b}function gsurveyLikertInsertRow(a){var b=GetSelectedField();gsurveyLikertUpdateRowsObject();var c=new gsurveyLikertRow("");b.gsurveyLikertRows.splice(a,0,c),jQuery("#gsurvey-likert-rows-container ul#gsurvey-likert-rows").html(gsurveyLikertGetRows(b)),gsurveyLikertUpdatePreview(b)}function gsurveyLikertDeleteRow(a){var b=GetSelectedField();gsurveyLikertUpdateRowsObject(),b.gsurveyLikertRows.splice(a,1),jQuery("#gsurvey-likert-rows-container ul#gsurvey-likert-rows").html(gsurveyLikertGetRows(b)),b.inputs.splice(a,1),gsurveyLikertUpdatePreview(b)}function gsurveyLikertMoveRow(a,b){var c=GetSelectedField();gsurveyLikertUpdateRowsObject();var d=c.gsurveyLikertRows[a];c.gsurveyLikertRows.splice(a,1),c.gsurveyLikertRows.splice(b,0,d),jQuery("#gsurvey-likert-rows-container ul#gsurvey-likert-rows").html(gsurveyLikertGetRows(c)),gsurveyLikertUpdateRowsObject(),gsurveyLikertUpdatePreview(c)}function gsurveyLikertGetRows(a){for(var b=gsurveyVars.imagesUrl,c="",d=0;d<a.gsurveyLikertRows.length;d++)c+="<li data-index='"+d+"'>",c+="<img src='"+b+"/arrow-handle.svg' width='14' height='14' class='gsurvey-liket-row-handle' alt='"+gsurveyLikertStrings.dragToReOrder+"' /> ",c+="<input type='text' id='gsurvey-likert-row-text-"+d+"' value=\""+a.gsurveyLikertRows[d].text.replace(/"/g,"&quot;")+"\"  class='gsurvey-row-input gsurvey-likert-row-text' onkeyup='gsurveyLikertUpdateRowsObject(); gsurveyLikertUpdatePreview();' />",c+="<input type='hidden' id='gsurvey-likert-row-id-"+d+"' value=\""+a.gsurveyLikertRows[d].value+"\" class='gsurvey-likert-row-id' >",c+="<img src='"+b+"/add.svg' width='16' height='16' class='add_field_choice' title='"+gsurveyLikertStrings.addAnotherRow+"' alt='"+gsurveyLikertStrings.addAnotherRow+"' style='cursor:pointer; margin:0 3px;' onclick=\"gsurveyLikertInsertRow("+(d+1)+');" />',a.gsurveyLikertRows.length>1&&(c+="<img src='"+b+"/remove.svg' width='16' height='16' title='"+gsurveyLikertStrings.removeThisRow+"' alt='"+gsurveyLikertStrings.removeThisRow+"' class='delete_field_choice' style='cursor:pointer;' onclick=\"gsurveyLikertDeleteRow("+d+');" />'),c+="</li>";return c}function SetDefaultValues_rank(a){return a.inputType="rank",a.inputs=null,a.enableChoiceValue=!0,a.enablePrice=!1,a.choices||(a.choices=new Array(new Choice(gsurveyRankStrings.firstChoice,GenerateRankChoiceValue(a),!1),new Choice(gsurveyRankStrings.secondChoice,GenerateRankChoiceValue(a),!1),new Choice(gsurveyRankStrings.thirdChoice,GenerateRankChoiceValue(a),!1),new Choice(gsurveyRankStrings.fourthChoice,GenerateRankChoiceValue(a),!1),new Choice(gsurveyRankStrings.fifthChoice,GenerateRankChoiceValue(a),!1))),a}function GenerateRankChoiceValue(a){return"grank"+a.id+"xxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)})}function gform_new_choice_rank(a,b){return"rank"==a.inputType&&(b.value=GenerateRankChoiceValue(a)),b}function gsurveyRankGetFieldPreviewMarkup(a){for(var b="",c=0;c<a.choices.length;c++){var d="choice_"+a.id+"_"+c;c<5&&(b+="<li class='gsurvey-rank-choice'><img src='"+gsurveyVars.imagesUrl+"/arrow-handle.svg' width='14' height='14' class='gsurvey-rank-handle' alt='' /><label for='"+d+"'>"+a.choices[c].text+"</label></li>")}return a.choices.length>5&&(b+="<li class='gchoice_total'>"+gf_vars.editToViewAll.replace("%d",a.choices.length)+"</li>"),b}function SetDefaultValues_rating(a){return a.inputType="rating",a.inputs=null,a.enableChoiceValue=!0,a.enablePrice=!1,a.reversed=!0,a.choices||(a.choices=new Array(new Choice(gsurveyRatingStrings.firstChoice,GenerateRatingChoiceValue(a),!1),new Choice(gsurveyRatingStrings.secondChoice,GenerateRatingChoiceValue(a),!1),new Choice(gsurveyRatingStrings.thirdChoice,GenerateRatingChoiceValue(a),!1),new Choice(gsurveyRatingStrings.fourthChoice,GenerateRatingChoiceValue(a),!1),new Choice(gsurveyRatingStrings.fifthChoice,GenerateRatingChoiceValue(a),!1))),a}function GenerateRatingChoiceValue(a){return"grating"+a.id+"xxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)})}function gform_new_choice_rating(a,b){return"rating"==a.inputType&&(b.value=GenerateRatingChoiceValue(a)),b}function gsurveyRatingGetFieldPreviewMarkup(a){for(var b="<div class='gsurvey-rating'>",c=0;c<a.choices.length;c++){var d="choice_"+a.id+"_"+c;b+="<input type='radio' "+(a.choices[c].isSelected?"checked":"")+" id='"+d+"' disabled='disabled'><label for='"+d+"'>"+a.choices[c].text+"</label>"}return b}jQuery(document).bind("gform_load_field_settings",function(a,b,c){"survey"==b.type&&(jQuery("#gsurvey-field-type").val(b.inputType),jQuery("#gsurvey-question").val(b.label),has_entry(b.id)?jQuery("#gsurvey-field-type").attr("disabled",!0):jQuery("#gsurvey-field-type").removeAttr("disabled"))}),jQuery(document).bind("gform_load_field_settings",function(a,b,c){"likert"==b.inputType&&(void 0===b.gsurveyLikertEnableMultipleRows&&(b.gsurveyLikertEnableMultipleRows=!1),void 0===b.gsurveyLikertEnableScoring&&(b.gsurveyLikertEnableScoring=!1),jQuery("#gsurvey-likert-enable-multiple-rows").prop("checked",b.gsurveyLikertEnableMultipleRows),jQuery("#gsurvey-likert-enable-scoring").prop("checked",b.gsurveyLikertEnableScoring),jQuery("#gsurvey-field-type").val("likert"),b.gsurveyLikertEnableMultipleRows&&jQuery(".gsurvey-likert-setting-rows").show(),b.gsurveyLikertEnableScoring?jQuery("#gsurvey-likert-columns-container").addClass("gsurvey-likert-scoring-enabled"):jQuery("#gsurvey-likert-columns-container").removeClass("gsurvey-likert-scoring-enabled"),jQuery("#gsurvey-likert-columns-container ul#gsurvey-likert-columns").html(gsurveyLikertGetColumns(b)),jQuery("#gsurvey-likert-rows-container ul#gsurvey-likert-rows").html(gsurveyLikertGetRows(b)))}),jQuery(document).bind("gform_load_field_choices",function(a,b){"rank"==b.inputType&&jQuery(".field_selected .gsurvey-rank").html(gsurveyRankGetFieldPreviewMarkup(b))}),jQuery(document).bind("gform_load_field_choices",function(a,b){if("rating"==b.inputType){if(void 0===b.reversed){var c=jQuery("#field_choices");c.children().each(function(a,b){c.prepend(b)}),b.choices=b.choices.reverse(),b.reversed=!0}var d=gsurveyRatingGetFieldPreviewMarkup(b);jQuery(".field_selected .gsurvey-rating").html(d)}}),jQuery(document).ready(function(){jQuery("#gsurvey-likert-columns").sortable({axis:"y",handle:".gsurvey-liket-column-handle",update:function(a,b){gsurveyLikertMoveColumn(b.item.data("index"),b.item.index())}}),jQuery("#gsurvey-likert-rows").sortable({axis:"y",handle:".gsurvey-liket-row-handle",update:function(a,b){gsurveyLikertMoveRow(b.item.data("index"),b.item.index())}})});